from customtkinter import *
from PIL import Image, ImageFilter, ImageEnhance


window = CTk()
window.geometry("600x500")
window.title("Easy Editor")
set_default_color_theme("blue")


img = Image.open("image1.jpg")
img_ctk = CTkImage(light_image=img, size=(400, 400))


label = CTkLabel(window, text="", image=img_ctk)
label.pack(pady=10)

set_frame = CTkFrame(window)
set_frame.pack(side="bottom", pady=20)


angle_img = 0


def rotate_image():
    global angle_img, img, img_ctk
    angle_img += 90
    if angle_img >= 360:
        angle_img = 0
    rotated_img = img.rotate(angle_img)
    img_ctk = CTkImage(light_image=rotated_img, size=(400, 400))
    label.configure(image=img_ctk)


def block_white():
    global img, img_ctk
    img = img.convert('L')
    img_ctk = CTkImage(light_image=img, size=(400, 400))
    label.configure(image=img_ctk)


def blur_img():
    global img, img_ctk
    blurred_img = img.filter(ImageFilter.BLUR)
    img_ctk = CTkImage(light_image=blurred_img, size=(400, 400))
    label.configure(image=img_ctk)


def enhance_contrast(value):
    global img, img_ctk
    enhancer = ImageEnhance.Contrast(img)
    enhanced_img = enhancer.enhance(float(value) / 50)
    img_ctk = CTkImage(light_image=enhanced_img, size=(400, 400))
    label.configure(image=img_ctk)



btn_rotate = CTkButton(set_frame, text='Поверти на 90°', command=rotate_image)
btn_rotate.grid(row=0, column=0, padx=10)

btn_l = CTkButton(set_frame, text='ЧБ', command=block_white)
btn_l.grid(row=0, column=1, padx=10)

btn_blur = CTkButton(set_frame, text='Розмиття', command=blur_img)
btn_blur.grid(row=0, column=2, padx=10)

label1 = CTkLabel(set_frame, text='Контраст')
label1.grid(row=1, column=0)

slide_enchance = CTkSlider(set_frame, from_=0, to=100, command=enhance_contrast)
slide_enchance.grid(row=1, column=1, pady=5)

window.mainloop()

